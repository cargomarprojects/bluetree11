<div class="page-header">
  <div class="col">
    <label class="mr-1">{{mainservice.title}}</label>
    <button class="btn btn-primary btn-sm mr-1" (click)="Close()">Return</button>
  </div>
</div>

<div *ngIf="errorMessage$ | async as errorMessage" class="alert alert-danger">
  {{errorMessage}}
</div>

<acc-paysearch-header [_query]="searchQuery$ | async" (searchEvents)="searchEvents($event)">
  </acc-paysearch-header>
  


<div class="page-body table-responsive table-bordered">
  <table class="table  table-hover table-sm">
    <thead class="page-body-thead">
      <tr>
        <th (click)="mainservice.sort('pay_invno')">INVNO&nbsp;<i [ngClass]="mainservice.getIcon('pay_invno')"></i></th>
        <th (click)="mainservice.sort('pay_mblrefno')">LOTNO&nbsp;<i [ngClass]="mainservice.getIcon('pay_mblrefno')"></i></th>   
        <th (click)="mainservice.sort('pay_inv_date')">INV DATE&nbsp;<i [ngClass]="mainservice.getIcon('pay_inv_date')"></i></th>
        <th (click)="mainservice.sort('pay_inv_total')">INV AMT&nbsp;<i [ngClass]="mainservice.getIcon('pay_inv_total')"></i></th>
        <th (click)="mainservice.sort('pay_inv_paid')">PAID AMT&nbsp;<i [ngClass]="mainservice.getIcon('pay_inv_paid')"></i></th>
        <th (click)="mainservice.sort('pay_cust_name')">PARTY&nbsp;<i [ngClass]="mainservice.getIcon('pay_cust_name')"></i></th>        
        <th (click)="mainservice.sort('pay_acc_name')">BANK&nbsp;<i [ngClass]="mainservice.getIcon('pay_acc_name')"></i></th>                
        <th (click)="mainservice.sort('pay_docno')">PAYMENT#&nbsp;<i [ngClass]="mainservice.getIcon('pay_docno')"></i></th>                
        <th (click)="mainservice.sort('pay_date')">DATE PAID&nbsp;<i [ngClass]="mainservice.getIcon('pay_date')"></i></th>                
        <th (click)="mainservice.sort('pay_total')">PAY AMT&nbsp;<i [ngClass]="mainservice.getIcon('pay_total')"></i></th>                
        <th (click)="mainservice.sort('pay_chqno')">CHECK NO&nbsp;<i [ngClass]="mainservice.getIcon('pay_chqno')"></i></th>        
        <th (click)="mainservice.sort('pay_mblno')">MASTER#&nbsp;<i [ngClass]="mainservice.getIcon('pay_mblno')"></i></th>                
        <th (click)="mainservice.sort('pay_invrefno')">INV REFNO&nbsp;<i [ngClass]="mainservice.getIcon('pay_invrefno')"></i></th>                
      </tr>
    </thead>
    <tbody class="page-body-tbody">
      <tr *ngFor="let rec of records$ | async | sortBy: mainservice.getSortCol() : mainservice.getSortOrder()">
        <!-- <td class='hlink2' (click)="editinvoice(rec)">{{rec.pay_invno}}</td> -->
        <td>
          <a class="hlink" [routerLink]="getRouteDet('L',rec,'INVNO')"
              [queryParams]="getRouteDet('P',rec,'INVNO')">{{rec.pay_invno}}</a>
        </td>
        <!-- <td class='hlink2' (click)="editmaster(rec)">{{rec.pay_mblrefno}}</td> -->
        <td>
          <a class="hlink" [routerLink]="getRouteDet('L',rec,'MASTER')"
              [queryParams]="getRouteDet('P',rec,'MASTER')">{{rec.pay_mblrefno}}</a>
      </td>
        <td >{{rec.pay_inv_date | date : gs.FRONTEND_DATEFORMAT }}</td>
        <td >{{rec.pay_inv_total}}</td>
        <td >{{rec.pay_inv_paid}}</td>
        <td >{{rec.pay_cust_name}}</td>        
        <td >{{rec.pay_acc_name}}</td>        
        <td >{{rec.pay_docno}}</td>
        <td >{{rec.pay_date | date : gs.FRONTEND_DATEFORMAT }}</td>
        <td >{{rec.pay_total}}</td>
        <td >{{rec.pay_chqno}}</td>        
        <td >{{rec.pay_mblno}}</td>
        <td >{{rec.pay_invrefno}}</td>        
      </tr>
    </tbody>
  </table>
</div>
<br />